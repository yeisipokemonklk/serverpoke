{
  "version": 3,
  "sources": ["../../../../../data/mods/partnersincrime/scripts.ts"],
  "sourcesContent": ["export const Scripts: ModdedBattleScriptsData = {\r\n\tgen: 9,\r\n\tinherit: 'gen9',\r\n\tnextTurn() {\r\n\t\tthis.turn++;\r\n\t\tthis.lastSuccessfulMoveThisTurn = null;\r\n\r\n\t\t// Partners in Crime moveSlot updating\r\n\t\t// Must be highest priority so imprison doesn't lag behind.\r\n\t\tfor (const side of this.sides) {\r\n\t\t\tfor (const pokemon of side.active) {\r\n\t\t\t\tpokemon.moveSlots = pokemon.moveSlots.filter(move => pokemon.m.curMoves.includes(move.id));\r\n\t\t\t\tpokemon.m.curMoves = this.dex.deepClone(pokemon.moves);\r\n\t\t\t\tconst ally = side.active.find(mon => mon && mon !== pokemon && !mon.fainted);\r\n\t\t\t\tlet allyMoves = ally ? this.dex.deepClone(ally.moveSlots) : [];\r\n\t\t\t\tif (ally) {\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tallyMoves = allyMoves.filter(move => !pokemon.moves.includes(move.id) && ally.m.curMoves.includes(move.id));\r\n\t\t\t\t\tfor (const aMove of allyMoves) {\r\n\t\t\t\t\t\taMove.pp = this.clampIntRange(aMove.maxpp - (pokemon.m.trackPP.get(aMove.id) || 0), 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tpokemon.moveSlots = pokemon.moveSlots.concat(allyMoves);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst dynamaxEnding: Pokemon[] = [];\r\n\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\tif (pokemon.volatiles['dynamax']?.turns === 3) {\r\n\t\t\t\tdynamaxEnding.push(pokemon);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (dynamaxEnding.length > 1) {\r\n\t\t\tthis.updateSpeed();\r\n\t\t\tthis.speedSort(dynamaxEnding);\r\n\t\t}\r\n\t\tfor (const pokemon of dynamaxEnding) {\r\n\t\t\tpokemon.removeVolatile('dynamax');\r\n\t\t}\r\n\r\n\t\t// Gen 1 partial trapping ends when either Pokemon or a switch in faints to residual damage\r\n\t\tif (this.gen === 1) {\r\n\t\t\tfor (const pokemon of this.getAllActive()) {\r\n\t\t\t\tif (pokemon.volatiles['partialtrappinglock']) {\r\n\t\t\t\t\tconst target = pokemon.volatiles['partialtrappinglock'].locked;\r\n\t\t\t\t\tif (target.hp <= 0 || !target.volatiles['partiallytrapped']) {\r\n\t\t\t\t\t\tdelete pokemon.volatiles['partialtrappinglock'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.volatiles['partiallytrapped']) {\r\n\t\t\t\t\tconst source = pokemon.volatiles['partiallytrapped'].source;\r\n\t\t\t\t\tif (source.hp <= 0 || !source.volatiles['partialtrappinglock']) {\r\n\t\t\t\t\t\tdelete pokemon.volatiles['partiallytrapped'];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst trappedBySide: boolean[] = [];\r\n\t\tconst stalenessBySide: ('internal' | 'external' | undefined)[] = [];\r\n\t\tfor (const side of this.sides) {\r\n\t\t\tlet sideTrapped = true;\r\n\t\t\tlet sideStaleness: 'internal' | 'external' | undefined;\r\n\t\t\tfor (const pokemon of side.active) {\r\n\t\t\t\tif (!pokemon) continue;\r\n\t\t\t\tpokemon.moveThisTurn = '';\r\n\t\t\t\tpokemon.newlySwitched = false;\r\n\t\t\t\tpokemon.moveLastTurnResult = pokemon.moveThisTurnResult;\r\n\t\t\t\tpokemon.moveThisTurnResult = undefined;\r\n\t\t\t\tif (this.turn !== 1) {\r\n\t\t\t\t\tpokemon.usedItemThisTurn = false;\r\n\t\t\t\t\tpokemon.statsRaisedThisTurn = false;\r\n\t\t\t\t\tpokemon.statsLoweredThisTurn = false;\r\n\t\t\t\t\t// It shouldn't be possible in a normal battle for a Pokemon to be damaged before turn 1's move selection\r\n\t\t\t\t\t// However, this could be potentially relevant in certain OMs\r\n\t\t\t\t\tpokemon.hurtThisTurn = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpokemon.maybeDisabled = false;\r\n\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\t\tmoveSlot.disabled = false;\r\n\t\t\t\t\tmoveSlot.disabledSource = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (pokemon.volatiles['encore']) {\r\n\t\t\t\t\t// Encore check happens earlier than PiC move swapping, so end encore here.\r\n\t\t\t\t\tconst encoredMove = pokemon.volatiles['encore'].move;\r\n\t\t\t\t\tif (!pokemon.moves.includes(encoredMove)) {\r\n\t\t\t\t\t\tpokemon.removeVolatile('encore');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.runEvent('DisableMove', pokemon);\r\n\t\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\t\tconst activeMove = this.dex.getActiveMove(moveSlot.id);\r\n\t\t\t\t\tthis.singleEvent('DisableMove', activeMove, null, pokemon);\r\n\t\t\t\t\tif (activeMove.flags['cantusetwice'] && pokemon.lastMove?.id === moveSlot.id) {\r\n\t\t\t\t\t\tpokemon.disableMove(pokemon.lastMove.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If it was an illusion, it's not any more\r\n\t\t\t\tif (pokemon.getLastAttackedBy() && this.gen >= 7) pokemon.knownType = true;\r\n\r\n\t\t\t\tfor (let i = pokemon.attackedBy.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tconst attack = pokemon.attackedBy[i];\r\n\t\t\t\t\tif (attack.source.isActive) {\r\n\t\t\t\t\t\tattack.thisTurn = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpokemon.attackedBy.splice(pokemon.attackedBy.indexOf(attack), 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.gen >= 7) {\r\n\t\t\t\t\t// In Gen 7, the real type of every Pokemon is visible to all players via the bottom screen while making choices\r\n\t\t\t\t\tconst seenPokemon = pokemon.illusion || pokemon;\r\n\t\t\t\t\tconst realTypeString = seenPokemon.getTypes(true).join('/');\r\n\t\t\t\t\tif (realTypeString !== seenPokemon.apparentType) {\r\n\t\t\t\t\t\tthis.add('-start', pokemon, 'typechange', realTypeString, '[silent]');\r\n\t\t\t\t\t\tseenPokemon.apparentType = realTypeString;\r\n\t\t\t\t\t\tif (pokemon.addedType) {\r\n\t\t\t\t\t\t\t// The typechange message removes the added type, so put it back\r\n\t\t\t\t\t\t\tthis.add('-start', pokemon, 'typeadd', pokemon.addedType, '[silent]');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpokemon.trapped = pokemon.maybeTrapped = false;\r\n\t\t\t\tthis.runEvent('TrapPokemon', pokemon);\r\n\t\t\t\tif (!pokemon.knownType || this.dex.getImmunity('trapped', pokemon)) {\r\n\t\t\t\t\tthis.runEvent('MaybeTrapPokemon', pokemon);\r\n\t\t\t\t}\r\n\t\t\t\t// canceling switches would leak information\r\n\t\t\t\t// if a foe might have a trapping ability\r\n\t\t\t\tif (this.gen > 2) {\r\n\t\t\t\t\tfor (const source of pokemon.foes()) {\r\n\t\t\t\t\t\tconst species = (source.illusion || source).species;\r\n\t\t\t\t\t\tif (!species.abilities) continue;\r\n\t\t\t\t\t\tfor (const abilitySlot in species.abilities) {\r\n\t\t\t\t\t\t\tconst abilityName = species.abilities[abilitySlot as keyof Species['abilities']];\r\n\t\t\t\t\t\t\tif (abilityName === source.ability) {\r\n\t\t\t\t\t\t\t\t// pokemon event was already run above so we don't need\r\n\t\t\t\t\t\t\t\t// to run it again.\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconst ruleTable = this.ruleTable;\r\n\t\t\t\t\t\t\tif ((ruleTable.has('+hackmons') || !ruleTable.has('obtainableabilities')) && !this.format.team) {\r\n\t\t\t\t\t\t\t\t// hackmons format\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t} else if (abilitySlot === 'H' && species.unreleasedHidden) {\r\n\t\t\t\t\t\t\t\t// unreleased hidden ability\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconst ability = this.dex.abilities.get(abilityName);\r\n\t\t\t\t\t\t\tif (ruleTable.has('-ability:' + ability.id)) continue;\r\n\t\t\t\t\t\t\tif (pokemon.knownType && !this.dex.getImmunity('trapped', pokemon)) continue;\r\n\t\t\t\t\t\t\tthis.singleEvent('FoeMaybeTrapPokemon', ability, {}, pokemon, source);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (pokemon.fainted) continue;\r\n\r\n\t\t\t\tsideTrapped = sideTrapped && pokemon.trapped;\r\n\t\t\t\tconst staleness = pokemon.volatileStaleness || pokemon.staleness;\r\n\t\t\t\tif (staleness) sideStaleness = sideStaleness === 'external' ? sideStaleness : staleness;\r\n\t\t\t\tpokemon.activeTurns++;\r\n\t\t\t}\r\n\t\t\ttrappedBySide.push(sideTrapped);\r\n\t\t\tstalenessBySide.push(sideStaleness);\r\n\t\t\tside.faintedLastTurn = side.faintedThisTurn;\r\n\t\t\tside.faintedThisTurn = null;\r\n\t\t}\r\n\r\n\t\tif (this.maybeTriggerEndlessBattleClause(trappedBySide, stalenessBySide)) return;\r\n\r\n\t\tif (this.gameType === 'triples' && this.sides.every(side => side.pokemonLeft === 1)) {\r\n\t\t\t// If both sides have one Pokemon left in triples and they are not adjacent, they are both moved to the center.\r\n\t\t\tconst actives = this.getAllActive();\r\n\t\t\tif (actives.length > 1 && !actives[0].isAdjacent(actives[1])) {\r\n\t\t\t\tthis.swapPosition(actives[0], 1, '[silent]');\r\n\t\t\t\tthis.swapPosition(actives[1], 1, '[silent]');\r\n\t\t\t\tthis.add('-center');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.add('turn', this.turn);\r\n\t\tif (this.gameType === 'multi') {\r\n\t\t\tfor (const side of this.sides) {\r\n\t\t\t\tif (side.canDynamaxNow()) {\r\n\t\t\t\t\tif (this.turn === 1) {\r\n\t\t\t\t\t\tthis.addSplit(side.id, ['-candynamax', side.id]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.add('-candynamax', side.id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.gen === 2) this.quickClawRoll = this.randomChance(60, 256);\r\n\t\tif (this.gen === 3) this.quickClawRoll = this.randomChance(1, 5);\r\n\r\n\t\t// Crazyhouse Progress checker because sidebars has trouble keeping track of Pokemon.\r\n\t\t// Please remove me once there is client support.\r\n\t\tif (this.ruleTable.has('crazyhouserule')) {\r\n\t\t\tfor (const side of this.sides) {\r\n\t\t\t\tlet buf = `raw|${side.name}'s team:<br />`;\r\n\t\t\t\tfor (const pokemon of side.pokemon) {\r\n\t\t\t\t\tif (!buf.endsWith('<br />')) buf += '/</span>&#8203;';\r\n\t\t\t\t\tif (pokemon.fainted) {\r\n\t\t\t\t\t\tbuf += `<span style=\"white-space:nowrap;\"><span style=\"opacity:.3\"><psicon pokemon=\"${pokemon.species.id}\" /></span>`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbuf += `<span style=\"white-space:nowrap\"><psicon pokemon=\"${pokemon.species.id}\" />`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.add(`${buf}</span>`);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.makeRequest('move');\r\n\t},\r\n\tactions: {\r\n\t\trunSwitch(pokemon) {\r\n\t\t\tthis.battle.runEvent('Swap', pokemon);\r\n\r\n\t\t\tif (this.battle.gen >= 5) {\r\n\t\t\t\tthis.battle.runEvent('SwitchIn', pokemon);\r\n\t\t\t}\r\n\r\n\t\t\tthis.battle.runEvent('EntryHazard', pokemon);\r\n\r\n\t\t\tif (this.battle.gen <= 4) {\r\n\t\t\t\tthis.battle.runEvent('SwitchIn', pokemon);\r\n\t\t\t}\r\n\r\n\t\t\tconst ally = pokemon.side.active.find(mon => mon && mon !== pokemon && !mon.fainted);\r\n\r\n\t\t\tif (this.battle.gen <= 2 && !pokemon.side.faintedThisTurn && pokemon.draggedIn !== this.battle.turn) {\r\n\t\t\t\tthis.battle.runEvent('AfterSwitchInSelf', pokemon);\r\n\t\t\t}\r\n\t\t\tif (!pokemon.hp) return false;\r\n\t\t\tpokemon.isStarted = true;\r\n\t\t\tif (!pokemon.fainted) {\r\n\t\t\t\tthis.battle.singleEvent('Start', pokemon.getAbility(), pokemon.abilityState, pokemon);\r\n\t\t\t\t// Start innates\r\n\t\t\t\tlet status;\r\n\t\t\t\tif (pokemon.m.startVolatile && pokemon.m.innate) {\r\n\t\t\t\t\tstatus = this.battle.dex.conditions.get(pokemon.m.innate);\r\n\t\t\t\t\tthis.battle.singleEvent('Start', status, pokemon.volatiles[status.id], pokemon);\r\n\t\t\t\t\tpokemon.m.startVolatile = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (ally && ally.m.startVolatile && ally.m.innate) {\r\n\t\t\t\t\tstatus = this.battle.dex.conditions.get(ally.m.innate);\r\n\t\t\t\t\tthis.battle.singleEvent('Start', status, ally.volatiles[status.id], ally);\r\n\t\t\t\t\tally.m.startVolatile = false;\r\n\t\t\t\t}\r\n\t\t\t\t// pic end\r\n\t\t\t\tthis.battle.singleEvent('Start', pokemon.getItem(), pokemon.itemState, pokemon);\r\n\t\t\t}\r\n\t\t\tif (this.battle.gen === 4) {\r\n\t\t\t\tfor (const foeActive of pokemon.foes()) {\r\n\t\t\t\t\tfoeActive.removeVolatile('substitutebroken');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tpokemon.draggedIn = null;\r\n\t\t\treturn true;\r\n\t\t},\r\n\t},\r\n\tpokemon: {\r\n\t\tsetAbility(ability, source, isFromFormeChange) {\r\n\t\t\tif (!this.hp) return false;\r\n\t\t\tconst BAD_ABILITIES = ['trace', 'imposter', 'neutralizinggas', 'illusion', 'wanderingspirit'];\r\n\t\t\tif (typeof ability === 'string') ability = this.battle.dex.abilities.get(ability);\r\n\t\t\tconst oldAbility = this.ability;\r\n\t\t\tif (!isFromFormeChange) {\r\n\t\t\t\tif (ability.flags['cantsuppress'] || this.getAbility().flags['cantsuppress']) return false;\r\n\t\t\t}\r\n\t\t\tif (!this.battle.runEvent('SetAbility', this, source, this.battle.effect, ability)) return false;\r\n\t\t\tthis.battle.singleEvent('End', this.battle.dex.abilities.get(oldAbility), this.abilityState, this, source);\r\n\t\t\tconst ally = this.side.active.find(mon => mon && mon !== this && !mon.fainted);\r\n\t\t\tif (ally?.m.innate) {\r\n\t\t\t\tally.removeVolatile(ally.m.innate);\r\n\t\t\t\tdelete ally.m.innate;\r\n\t\t\t}\r\n\t\t\tif (this.battle.effect && this.battle.effect.effectType === 'Move' && !isFromFormeChange) {\r\n\t\t\t\tthis.battle.add('-endability', this, this.battle.dex.abilities.get(oldAbility), '[from] move: ' +\r\n\t\t\t\t\tthis.battle.dex.moves.get(this.battle.effect.id));\r\n\t\t\t}\r\n\t\t\tthis.ability = ability.id;\r\n\t\t\tthis.abilityState = {id: ability.id, target: this};\r\n\t\t\tif (ability.id && this.battle.gen > 3) {\r\n\t\t\t\tthis.battle.singleEvent('Start', ability, this.abilityState, this, source);\r\n\t\t\t\tif (ally && ally.ability !== this.ability) {\r\n\t\t\t\t\tif (!this.m.innate) {\r\n\t\t\t\t\t\tthis.m.innate = 'ability:' + ally.getAbility().id;\r\n\t\t\t\t\t\tthis.addVolatile(this.m.innate);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!BAD_ABILITIES.includes(ability.id)) {\r\n\t\t\t\t\t\tally.m.innate = 'ability:' + ability.id;\r\n\t\t\t\t\t\tally.addVolatile(ally.m.innate);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Entrainment\r\n\t\t\tif (this.m.innate && this.m.innate.endsWith(ability.id)) {\r\n\t\t\t\tthis.removeVolatile(this.m.innate);\r\n\t\t\t\tdelete this.m.innate;\r\n\t\t\t}\r\n\t\t\tthis.abilityOrder = this.battle.abilityOrder++;\r\n\t\t\treturn oldAbility;\r\n\t\t},\r\n\t\thasAbility(ability) {\r\n\t\t\tif (this.ignoringAbility()) return false;\r\n\t\t\tconst ownAbility = this.ability;\r\n\t\t\tconst ally = this.side.active.find(mon => mon && mon !== this && !mon.fainted);\r\n\t\t\tconst allyAbility = ally ? ally.ability : \"\";\r\n\t\t\tif (!Array.isArray(ability)) {\r\n\t\t\t\tif (ownAbility === this.battle.toID(ability) || allyAbility === this.battle.toID(ability)) return true;\r\n\t\t\t} else {\r\n\t\t\t\t if (ability.map(this.battle.toID).includes(ownAbility) || ability.map(this.battle.toID).includes(allyAbility)) {\r\n\t\t\t\t\t return true;\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\ttransformInto(pokemon, effect) {\r\n\t\t\tconst species = pokemon.species;\r\n\t\t\tif (pokemon.fainted || this.illusion || pokemon.illusion || (pokemon.volatiles['substitute'] && this.battle.gen >= 5) ||\r\n\t\t\t\t(pokemon.transformed && this.battle.gen >= 2) || (this.transformed && this.battle.gen >= 5) ||\r\n\t\t\t\tspecies.name === 'Eternatus-Eternamax' || (['Ogerpon', 'Terapagos'].includes(species.baseSpecies) &&\r\n\t\t\t\t(this.terastallized || pokemon.terastallized))) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.battle.dex.currentMod === 'gen1stadium' && (\r\n\t\t\t\tspecies.name === 'Ditto' ||\r\n\t\t\t\t(this.species.name === 'Ditto' && pokemon.moves.includes('transform'))\r\n\t\t\t)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.setSpecies(species, effect, true)) return false;\r\n\r\n\t\t\tthis.transformed = true;\r\n\t\t\tthis.weighthg = pokemon.weighthg;\r\n\r\n\t\t\tconst types = pokemon.getTypes(true, true);\r\n\t\t\tthis.setType(pokemon.volatiles['roost'] ? pokemon.volatiles['roost'].typeWas : types, true);\r\n\t\t\tthis.addedType = pokemon.addedType;\r\n\t\t\tthis.knownType = this.isAlly(pokemon) && pokemon.knownType;\r\n\t\t\tthis.apparentType = pokemon.apparentType;\r\n\r\n\t\t\tlet statName: StatIDExceptHP;\r\n\t\t\tfor (statName in this.storedStats) {\r\n\t\t\t\tthis.storedStats[statName] = pokemon.storedStats[statName];\r\n\t\t\t\tif (this.modifiedStats) this.modifiedStats[statName] = pokemon.modifiedStats![statName]; // Gen 1: Copy modified stats.\r\n\t\t\t}\r\n\t\t\tthis.moveSlots = [];\r\n\t\t\tthis.hpType = (this.battle.gen >= 5 ? this.hpType : pokemon.hpType);\r\n\t\t\tthis.hpPower = (this.battle.gen >= 5 ? this.hpPower : pokemon.hpPower);\r\n\t\t\tthis.timesAttacked = pokemon.timesAttacked;\r\n\t\t\tfor (const moveSlot of pokemon.moveSlots) {\r\n\t\t\t\tlet moveName = moveSlot.move;\r\n\t\t\t\tif (!pokemon.m.curMoves.includes(moveSlot.id)) continue;\r\n\t\t\t\tif (moveSlot.id === 'hiddenpower') {\r\n\t\t\t\t\tmoveName = 'Hidden Power ' + this.hpType;\r\n\t\t\t\t}\r\n\t\t\t\tthis.moveSlots.push({\r\n\t\t\t\t\tmove: moveName,\r\n\t\t\t\t\tid: moveSlot.id,\r\n\t\t\t\t\tpp: moveSlot.maxpp === 1 ? 1 : 5,\r\n\t\t\t\t\tmaxpp: this.battle.gen >= 5 ? (moveSlot.maxpp === 1 ? 1 : 5) : moveSlot.maxpp,\r\n\t\t\t\t\ttarget: moveSlot.target,\r\n\t\t\t\t\tdisabled: false,\r\n\t\t\t\t\tused: false,\r\n\t\t\t\t\tvirtual: true,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.m.curMoves = pokemon.m.curMoves;\r\n\t\t\tlet boostName: BoostID;\r\n\t\t\tfor (boostName in pokemon.boosts) {\r\n\t\t\t\tthis.boosts[boostName] = pokemon.boosts[boostName];\r\n\t\t\t}\r\n\t\t\tif (this.battle.gen >= 6) {\r\n\t\t\t\tconst volatilesToCopy = ['dragoncheer', 'focusenergy', 'gmaxchistrike', 'laserfocus'];\r\n\t\t\t\tfor (const volatile of volatilesToCopy) {\r\n\t\t\t\t\tif (pokemon.volatiles[volatile]) {\r\n\t\t\t\t\t\tthis.addVolatile(volatile);\r\n\t\t\t\t\t\tif (volatile === 'gmaxchistrike') this.volatiles[volatile].layers = pokemon.volatiles[volatile].layers;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.removeVolatile(volatile);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (effect) {\r\n\t\t\t\tthis.battle.add('-transform', this, pokemon, '[from] ' + effect.fullname);\r\n\t\t\t} else {\r\n\t\t\t\tthis.battle.add('-transform', this, pokemon);\r\n\t\t\t}\r\n\t\t\tif (this.terastallized) {\r\n\t\t\t\tthis.knownType = true;\r\n\t\t\t\tthis.apparentType = this.terastallized;\r\n\t\t\t}\r\n\t\t\tif (this.battle.gen > 2) this.setAbility(pokemon.ability, this, true, true);\r\n\r\n\t\t\t// Change formes based on held items (for Transform)\r\n\t\t\t// Only ever relevant in Generation 4 since Generation 3 didn't have item-based forme changes\r\n\t\t\tif (this.battle.gen === 4) {\r\n\t\t\t\tif (this.species.num === 487) {\r\n\t\t\t\t\t// Giratina formes\r\n\t\t\t\t\tif (this.species.name === 'Giratina' && this.item === 'griseousorb') {\r\n\t\t\t\t\t\tthis.formeChange('Giratina-Origin');\r\n\t\t\t\t\t} else if (this.species.name === 'Giratina-Origin' && this.item !== 'griseousorb') {\r\n\t\t\t\t\t\tthis.formeChange('Giratina');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (this.species.num === 493) {\r\n\t\t\t\t\t// Arceus formes\r\n\t\t\t\t\tconst item = this.getItem();\r\n\t\t\t\t\tconst targetForme = (item?.onPlate ? 'Arceus-' + item.onPlate : 'Arceus');\r\n\t\t\t\t\tif (this.species.name !== targetForme) {\r\n\t\t\t\t\t\tthis.formeChange(targetForme);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Pokemon transformed into Ogerpon cannot Terastallize\r\n\t\t\t// restoring their ability to tera after they untransform is handled ELSEWHERE\r\n\t\t\tif (this.species.baseSpecies === 'Ogerpon' && this.canTerastallize) this.canTerastallize = false;\r\n\t\t\tif (this.species.baseSpecies === 'Terapagos' && this.canTerastallize) this.canTerastallize = false;\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tdeductPP(move, amount, target) {\r\n\t\t\tconst gen = this.battle.gen;\r\n\t\t\tmove = this.battle.dex.moves.get(move);\r\n\t\t\tconst ppData = this.getMoveData(move);\r\n\t\t\tif (!ppData) return 0;\r\n\t\t\tppData.used = true;\r\n\t\t\tif (!ppData.pp && gen > 1) return 0;\r\n\r\n\t\t\tif (!amount) amount = 1;\r\n\t\t\tppData.pp -= amount;\r\n\t\t\tif (ppData.pp < 0 && gen > 1) {\r\n\t\t\t\tamount += ppData.pp;\r\n\t\t\t\tppData.pp = 0;\r\n\t\t\t}\r\n\t\t\tif (!this.m.curMoves.includes(move.id)) {\r\n\t\t\t\tthis.m.trackPP.set(move.id, (this.m.trackPP.get(move.id) || 0) + amount);\r\n\t\t\t}\r\n\t\t\treturn amount;\r\n\t\t},\r\n\t},\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
